{"version":3,"names":["_getJestObj","mock","getItems","jest","fn","require","db","ITEMS","id","test","req","res","send","mockReturnValue","Promise","resolve","expect","calls","length","toBe","toEqual"],"sources":["getItems.spec.js"],"sourcesContent":["const db = require('../../src/persistence');\nconst getItems = require('../../src/routes/getItems');\nconst ITEMS = [{ id: 12345 }];\n\njest.mock('../../src/persistence', () => ({\n    getItems: jest.fn(),\n}));\n\ntest('it gets items correctly', async () => {\n    const req = {};\n    const res = { send: jest.fn() };\n    db.getItems.mockReturnValue(Promise.resolve(ITEMS));\n\n    await getItems(req, res);\n\n    expect(db.getItems.mock.calls.length).toBe(1);\n    expect(res.send.mock.calls[0].length).toBe(1);\n    expect(res.send.mock.calls[0][0]).toEqual(ITEMS);\n});\n"],"mappings":"AAIAA,WAAA,GAAKC,IAAI,CAAC,uBAAuB,EAAE,OAAO;EACtCC,QAAQ,EAAEC,IAAI,CAACC,EAAE,CAAC;AACtB,CAAC,CAAC,CAAC;AAAC,SAAAJ,YAAA;EAAA;IAAAG;EAAA,IAAAE,OAAA;EAAAL,WAAA,GAAAA,CAAA,KAAAG,IAAA;EAAA,OAAAA,IAAA;AAAA;AANJ,MAAMG,EAAE,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAC3C,MAAMH,QAAQ,GAAGG,OAAO,CAAC,2BAA2B,CAAC;AACrD,MAAME,KAAK,GAAG,CAAC;EAAEC,EAAE,EAAE;AAAM,CAAC,CAAC;AAM7BC,IAAI,CAAC,yBAAyB,EAAE,YAAY;EACxC,MAAMC,GAAG,GAAG,CAAC,CAAC;EACd,MAAMC,GAAG,GAAG;IAAEC,IAAI,EAAET,IAAI,CAACC,EAAE,CAAC;EAAE,CAAC;EAC/BE,EAAE,CAACJ,QAAQ,CAACW,eAAe,CAACC,OAAO,CAACC,OAAO,CAACR,KAAK,CAAC,CAAC;EAEnD,MAAML,QAAQ,CAACQ,GAAG,EAAEC,GAAG,CAAC;EAExBK,MAAM,CAACV,EAAE,CAACJ,QAAQ,CAACD,IAAI,CAACgB,KAAK,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC7CH,MAAM,CAACL,GAAG,CAACC,IAAI,CAACX,IAAI,CAACgB,KAAK,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC7CH,MAAM,CAACL,GAAG,CAACC,IAAI,CAACX,IAAI,CAACgB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACG,OAAO,CAACb,KAAK,CAAC;AACpD,CAAC,CAAC"}