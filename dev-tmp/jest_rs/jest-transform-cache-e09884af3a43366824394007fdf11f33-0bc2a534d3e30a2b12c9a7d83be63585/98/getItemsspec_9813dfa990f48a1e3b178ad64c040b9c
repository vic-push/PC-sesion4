1e3106068fe5751f77dbd0b27c4474a0
_getJestObj().mock('../../src/persistence', () => ({
  getItems: jest.fn()
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const db = require('../../src/persistence');
const getItems = require('../../src/routes/getItems');
const ITEMS = [{
  id: 12345
}];
test('it gets items correctly', async () => {
  const req = {};
  const res = {
    send: jest.fn()
  };
  db.getItems.mockReturnValue(Promise.resolve(ITEMS));
  await getItems(req, res);
  expect(db.getItems.mock.calls.length).toBe(1);
  expect(res.send.mock.calls[0].length).toBe(1);
  expect(res.send.mock.calls[0][0]).toEqual(ITEMS);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZXRJdGVtcyIsImplc3QiLCJmbiIsInJlcXVpcmUiLCJkYiIsIklURU1TIiwiaWQiLCJ0ZXN0IiwicmVxIiwicmVzIiwic2VuZCIsIm1vY2tSZXR1cm5WYWx1ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXhwZWN0IiwiY2FsbHMiLCJsZW5ndGgiLCJ0b0JlIiwidG9FcXVhbCJdLCJzb3VyY2VzIjpbImdldEl0ZW1zLnNwZWMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKCcuLi8uLi9zcmMvcGVyc2lzdGVuY2UnKTtcbmNvbnN0IGdldEl0ZW1zID0gcmVxdWlyZSgnLi4vLi4vc3JjL3JvdXRlcy9nZXRJdGVtcycpO1xuY29uc3QgSVRFTVMgPSBbeyBpZDogMTIzNDUgfV07XG5cbmplc3QubW9jaygnLi4vLi4vc3JjL3BlcnNpc3RlbmNlJywgKCkgPT4gKHtcbiAgICBnZXRJdGVtczogamVzdC5mbigpLFxufSkpO1xuXG50ZXN0KCdpdCBnZXRzIGl0ZW1zIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXEgPSB7fTtcbiAgICBjb25zdCByZXMgPSB7IHNlbmQ6IGplc3QuZm4oKSB9O1xuICAgIGRiLmdldEl0ZW1zLm1vY2tSZXR1cm5WYWx1ZShQcm9taXNlLnJlc29sdmUoSVRFTVMpKTtcblxuICAgIGF3YWl0IGdldEl0ZW1zKHJlcSwgcmVzKTtcblxuICAgIGV4cGVjdChkYi5nZXRJdGVtcy5tb2NrLmNhbGxzLmxlbmd0aCkudG9CZSgxKTtcbiAgICBleHBlY3QocmVzLnNlbmQubW9jay5jYWxsc1swXS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHJlcy5zZW5kLm1vY2suY2FsbHNbMF1bMF0pLnRvRXF1YWwoSVRFTVMpO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUlBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyx1QkFBdUIsRUFBRSxPQUFPO0VBQ3RDQyxRQUFRLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ3RCLENBQUMsQ0FBQyxDQUFDO0FBQUMsU0FBQUosWUFBQTtFQUFBO0lBQUFHO0VBQUEsSUFBQUUsT0FBQTtFQUFBTCxXQUFBLEdBQUFBLENBQUEsS0FBQUcsSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQU5KLE1BQU1HLEVBQUUsR0FBR0QsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQzNDLE1BQU1ILFFBQVEsR0FBR0csT0FBTyxDQUFDLDJCQUEyQixDQUFDO0FBQ3JELE1BQU1FLEtBQUssR0FBRyxDQUFDO0VBQUVDLEVBQUUsRUFBRTtBQUFNLENBQUMsQ0FBQztBQU03QkMsSUFBSSxDQUFDLHlCQUF5QixFQUFFLFlBQVk7RUFDeEMsTUFBTUMsR0FBRyxHQUFHLENBQUMsQ0FBQztFQUNkLE1BQU1DLEdBQUcsR0FBRztJQUFFQyxJQUFJLEVBQUVULElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQUUsQ0FBQztFQUMvQkUsRUFBRSxDQUFDSixRQUFRLENBQUNXLGVBQWUsQ0FBQ0MsT0FBTyxDQUFDQyxPQUFPLENBQUNSLEtBQUssQ0FBQyxDQUFDO0VBRW5ELE1BQU1MLFFBQVEsQ0FBQ1EsR0FBRyxFQUFFQyxHQUFHLENBQUM7RUFFeEJLLE1BQU0sQ0FBQ1YsRUFBRSxDQUFDSixRQUFRLENBQUNELElBQUksQ0FBQ2dCLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDN0NILE1BQU0sQ0FBQ0wsR0FBRyxDQUFDQyxJQUFJLENBQUNYLElBQUksQ0FBQ2dCLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQ0MsTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUM7RUFDN0NILE1BQU0sQ0FBQ0wsR0FBRyxDQUFDQyxJQUFJLENBQUNYLElBQUksQ0FBQ2dCLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDRyxPQUFPLENBQUNiLEtBQUssQ0FBQztBQUNwRCxDQUFDLENBQUMifQ==