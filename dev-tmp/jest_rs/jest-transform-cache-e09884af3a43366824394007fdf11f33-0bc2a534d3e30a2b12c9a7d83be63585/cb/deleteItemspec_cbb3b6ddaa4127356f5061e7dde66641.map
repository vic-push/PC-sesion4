{"version":3,"names":["_getJestObj","mock","removeItem","jest","fn","getItem","require","db","deleteItem","ITEM","id","test","req","params","res","sendStatus","expect","calls","length","toBe"],"sources":["deleteItem.spec.js"],"sourcesContent":["const db = require('../../src/persistence');\nconst deleteItem = require('../../src/routes/deleteItem');\nconst ITEM = { id: 12345 };\n\njest.mock('../../src/persistence', () => ({\n    removeItem: jest.fn(),\n    getItem: jest.fn(),\n}));\n\ntest('it removes item correctly', async () => {\n    const req = { params: { id: 12345 } };\n    const res = { sendStatus: jest.fn() };\n\n    await deleteItem(req, res);\n\n    expect(db.removeItem.mock.calls.length).toBe(1);\n    expect(db.removeItem.mock.calls[0][0]).toBe(req.params.id);\n    expect(res.sendStatus.mock.calls[0].length).toBe(1);\n    expect(res.sendStatus.mock.calls[0][0]).toBe(200);\n});\n"],"mappings":"AAIAA,WAAA,GAAKC,IAAI,CAAC,uBAAuB,EAAE,OAAO;EACtCC,UAAU,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;EACrBC,OAAO,EAAEF,IAAI,CAACC,EAAE,CAAC;AACrB,CAAC,CAAC,CAAC;AAAC,SAAAJ,YAAA;EAAA;IAAAG;EAAA,IAAAG,OAAA;EAAAN,WAAA,GAAAA,CAAA,KAAAG,IAAA;EAAA,OAAAA,IAAA;AAAA;AAPJ,MAAMI,EAAE,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AAC3C,MAAME,UAAU,GAAGF,OAAO,CAAC,6BAA6B,CAAC;AACzD,MAAMG,IAAI,GAAG;EAAEC,EAAE,EAAE;AAAM,CAAC;AAO1BC,IAAI,CAAC,2BAA2B,EAAE,YAAY;EAC1C,MAAMC,GAAG,GAAG;IAAEC,MAAM,EAAE;MAAEH,EAAE,EAAE;IAAM;EAAE,CAAC;EACrC,MAAMI,GAAG,GAAG;IAAEC,UAAU,EAAEZ,IAAI,CAACC,EAAE,CAAC;EAAE,CAAC;EAErC,MAAMI,UAAU,CAACI,GAAG,EAAEE,GAAG,CAAC;EAE1BE,MAAM,CAACT,EAAE,CAACL,UAAU,CAACD,IAAI,CAACgB,KAAK,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EAC/CH,MAAM,CAACT,EAAE,CAACL,UAAU,CAACD,IAAI,CAACgB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAACP,GAAG,CAACC,MAAM,CAACH,EAAE,CAAC;EAC1DM,MAAM,CAACF,GAAG,CAACC,UAAU,CAACd,IAAI,CAACgB,KAAK,CAAC,CAAC,CAAC,CAACC,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;EACnDH,MAAM,CAACF,GAAG,CAACC,UAAU,CAACd,IAAI,CAACgB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC;AACrD,CAAC,CAAC"}