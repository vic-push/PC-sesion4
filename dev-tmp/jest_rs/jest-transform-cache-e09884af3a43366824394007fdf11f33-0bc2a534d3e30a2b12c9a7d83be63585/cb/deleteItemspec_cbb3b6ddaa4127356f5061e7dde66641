70571d6c4ed0a3479d284d8ea6ead06b
_getJestObj().mock('../../src/persistence', () => ({
  removeItem: jest.fn(),
  getItem: jest.fn()
}));
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const db = require('../../src/persistence');
const deleteItem = require('../../src/routes/deleteItem');
const ITEM = {
  id: 12345
};
test('it removes item correctly', async () => {
  const req = {
    params: {
      id: 12345
    }
  };
  const res = {
    sendStatus: jest.fn()
  };
  await deleteItem(req, res);
  expect(db.removeItem.mock.calls.length).toBe(1);
  expect(db.removeItem.mock.calls[0][0]).toBe(req.params.id);
  expect(res.sendStatus.mock.calls[0].length).toBe(1);
  expect(res.sendStatus.mock.calls[0][0]).toBe(200);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJyZW1vdmVJdGVtIiwiamVzdCIsImZuIiwiZ2V0SXRlbSIsInJlcXVpcmUiLCJkYiIsImRlbGV0ZUl0ZW0iLCJJVEVNIiwiaWQiLCJ0ZXN0IiwicmVxIiwicGFyYW1zIiwicmVzIiwic2VuZFN0YXR1cyIsImV4cGVjdCIsImNhbGxzIiwibGVuZ3RoIiwidG9CZSJdLCJzb3VyY2VzIjpbImRlbGV0ZUl0ZW0uc3BlYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYiA9IHJlcXVpcmUoJy4uLy4uL3NyYy9wZXJzaXN0ZW5jZScpO1xuY29uc3QgZGVsZXRlSXRlbSA9IHJlcXVpcmUoJy4uLy4uL3NyYy9yb3V0ZXMvZGVsZXRlSXRlbScpO1xuY29uc3QgSVRFTSA9IHsgaWQ6IDEyMzQ1IH07XG5cbmplc3QubW9jaygnLi4vLi4vc3JjL3BlcnNpc3RlbmNlJywgKCkgPT4gKHtcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgZ2V0SXRlbTogamVzdC5mbigpLFxufSkpO1xuXG50ZXN0KCdpdCByZW1vdmVzIGl0ZW0gY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcSA9IHsgcGFyYW1zOiB7IGlkOiAxMjM0NSB9IH07XG4gICAgY29uc3QgcmVzID0geyBzZW5kU3RhdHVzOiBqZXN0LmZuKCkgfTtcblxuICAgIGF3YWl0IGRlbGV0ZUl0ZW0ocmVxLCByZXMpO1xuXG4gICAgZXhwZWN0KGRiLnJlbW92ZUl0ZW0ubW9jay5jYWxscy5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KGRiLnJlbW92ZUl0ZW0ubW9jay5jYWxsc1swXVswXSkudG9CZShyZXEucGFyYW1zLmlkKTtcbiAgICBleHBlY3QocmVzLnNlbmRTdGF0dXMubW9jay5jYWxsc1swXS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHJlcy5zZW5kU3RhdHVzLm1vY2suY2FsbHNbMF1bMF0pLnRvQmUoMjAwKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiQUFJQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsT0FBTztFQUN0Q0MsVUFBVSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3JCQyxPQUFPLEVBQUVGLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ3JCLENBQUMsQ0FBQyxDQUFDO0FBQUMsU0FBQUosWUFBQTtFQUFBO0lBQUFHO0VBQUEsSUFBQUcsT0FBQTtFQUFBTixXQUFBLEdBQUFBLENBQUEsS0FBQUcsSUFBQTtFQUFBLE9BQUFBLElBQUE7QUFBQTtBQVBKLE1BQU1JLEVBQUUsR0FBR0QsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQzNDLE1BQU1FLFVBQVUsR0FBR0YsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3pELE1BQU1HLElBQUksR0FBRztFQUFFQyxFQUFFLEVBQUU7QUFBTSxDQUFDO0FBTzFCQyxJQUFJLENBQUMsMkJBQTJCLEVBQUUsWUFBWTtFQUMxQyxNQUFNQyxHQUFHLEdBQUc7SUFBRUMsTUFBTSxFQUFFO01BQUVILEVBQUUsRUFBRTtJQUFNO0VBQUUsQ0FBQztFQUNyQyxNQUFNSSxHQUFHLEdBQUc7SUFBRUMsVUFBVSxFQUFFWixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUFFLENBQUM7RUFFckMsTUFBTUksVUFBVSxDQUFDSSxHQUFHLEVBQUVFLEdBQUcsQ0FBQztFQUUxQkUsTUFBTSxDQUFDVCxFQUFFLENBQUNMLFVBQVUsQ0FBQ0QsSUFBSSxDQUFDZ0IsS0FBSyxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUMvQ0gsTUFBTSxDQUFDVCxFQUFFLENBQUNMLFVBQVUsQ0FBQ0QsSUFBSSxDQUFDZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNFLElBQUksQ0FBQ1AsR0FBRyxDQUFDQyxNQUFNLENBQUNILEVBQUUsQ0FBQztFQUMxRE0sTUFBTSxDQUFDRixHQUFHLENBQUNDLFVBQVUsQ0FBQ2QsSUFBSSxDQUFDZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLENBQUMsQ0FBQztFQUNuREgsTUFBTSxDQUFDRixHQUFHLENBQUNDLFVBQVUsQ0FBQ2QsSUFBSSxDQUFDZ0IsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUNFLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDckQsQ0FBQyxDQUFDIn0=